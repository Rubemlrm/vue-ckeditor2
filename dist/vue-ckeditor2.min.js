!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueCkeditor2=t()}(this,function(){"use strict";!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n=' .ckeditor::after { content: ""; display: table; clear: both; } ';t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}}();var e=(new Date).getTime();return{render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ckeditor"},[n("textarea",{attrs:{name:e.name,id:e.id,types:e.types,config:e.config,"read-only":e.readOnly},domProps:{value:e.value}})])},staticRenderFns:[],name:"vue-ckeditor",props:{name:{type:String,default:function(){return"editor-"+ ++e}},value:{type:String},id:{type:String,default:function(){return"editor-"+e}},types:{type:String,default:function(){return"classic"}},config:{type:Object,default:function(){return{toolbar:[{name:"clipboard",items:["Undo","Redo"]},{name:"styles",items:["Font","FontSize"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","RemoveFormat","CopyFormatting"]},{name:"align",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote"]}],fontSize_defaultLabel:"12px",autoParagraph:!1,customConfig:"",disallowedContent:"img{width,height,float}",extraAllowedContent:"img[width,height,align]",height:300,bodyClass:"document-editor",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",stylesSet:[{name:"Marker",element:"span",attributes:{class:"marker"}},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Compact table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}}]}}},readOnly:{type:Boolean,default:function(){return!0}}},data:function(){return{destroyed:!1}},computed:{instance:function(){return CKEDITOR.instances[this.id]}},watch:{value:function(e){try{this.instance&&this.update(e)}catch(e){}},readOnly:function(e){try{this.instance&&this.instance.setReadOnly(e)}catch(e){console.log(e)}}},mounted:function(){this.create()},beforeDestroy:function(){this.destroy()},methods:{create:function(){var e=this;"undefined"==typeof CKEDITOR?console.log("CKEDITOR is missing (http://ckeditor.com/)"):("inline"===this.types?CKEDITOR.inline(this.id,this.config):CKEDITOR.replace(this.id,this.config),this.instance.setData(this.value),this.instance.on("instanceReady",function(){e.instance.setData(e.value)}),this.instance.on("change",this.onChange),this.instance.on("blur",this.onBlur),this.instance.on("focus",this.onFocus)),CKEDITOR.on("instanceReady",function(t){t.editor.setReadOnly(e.readOnly)})},update:function(e){this.instance.getData()!==e&&this.instance.setData(e,{internal:!1})},destroy:function(){this.destroyed||(this.instance.focusManager.blur(!0),this.instance.removeAllListeners(),this.instance.destroy(),this.destroyed=!0)},onChange:function(){var e=this.instance.getData();this.$emit("change",e)},onBlur:function(){this.$emit("blur",this.instance)},onFocus:function(){this.$emit("focus",this.instance)}}}});
